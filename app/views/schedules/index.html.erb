<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% elsif alert.present? %>
    <p class="py-2 px-3 bg-red-50 mb-5 text-red-500 font-medium rounded-lg inline-block" id="alert"><%= alert %></p>
  <% end %>

  <div class ="flex justify-between mb-8">
    <div>
      <h2 class="text-xl font-sans">スケジュール</h2>
    </div>
  </div>

  <div class="mb-8">
    <%= form_tag recalculate_schedules_path, multipart: true do %>
      <div class="flex justify-left">
        <div>
          mealsのday<%= number_field_tag :day, min: 1 %>を<%= date_field_tag :start_date, class: "rounded px-4 py-2" %>に合わせる
        </div>
        <button class="shadow-lg bg-sky-500 shadow-sky-500/50 hover:bg-sky-400 text-white rounded px-4 py-2">
          <%= submit_tag "再計算" %>
        </button>
      </div>
    <% end %>
  </div>

  <div id="schedules" class="w-full">
    <div class="mb-8">
      <%= form_tag schedules_path, method: :get do %>
        from<%= date_field_tag :from, @from %>
        to<%= date_field_tag :to, @to %>
        <button class="shadow-lg bg-sky-500 shadow-sky-500/50 hover:bg-sky-400 text-white rounded px-4 py-2">
          <%= submit_tag "Search" %>
        </button>
      <% end %>
    </div>
    <div class="mb-8">
      <button class="shadow-lg bg-sky-500 shadow-sky-500/50 hover:bg-sky-400 text-white rounded px-4 py-2">
        <%= link_to "この期間に必要な食材", sum_schedules_path(from: @from, to: @to), data: { turbo_frame: 'modal' } %>
      </button>
    </div>
    <%= turbo_frame_tag "modal" %>
    <% @schedules.each do |schedule| %>
      <%= render schedule %>
    <% end %>
  </div>
</div>
