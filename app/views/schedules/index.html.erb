<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% elsif alert.present? %>
    <p class="py-2 px-3 bg-red-50 mb-5 text-red-500 font-medium rounded-lg inline-block" id="alert"><%= alert %></p>
  <% end %>

  <div class ="flex justify-between mb-8">
    <div>
      <h2 class="text-xl font-sans">スケジュール</h2>
    </div>
  </div>

  <div class="mb-8">
    <%= form_tag recalculate_schedules_path, multipart: true do %>
      <div class="flex justify-left">
        <div>
          mealsのday<%= number_field_tag :day, min: 1 %>を<%= date_field_tag :start_date, class: "rounded px-4 py-2" %>に合わせる
        </div>
        <button class="shadow-lg bg-sky-500 shadow-sky-500/50 hover:bg-sky-400 text-white rounded px-4 py-2">
          <%= submit_tag "再計算" %>
        </button>
      </div>
    <% end %>
  </div>

  <div id="schedules" class="w-full">
    <div class="mb-8">
      <%= form_tag schedules_path, method: :get do %>
        <label class="w-full block">
          検索期間
        </label>
        <div class="flex items-center gap-2">
        <%= date_field_tag :from, @from, class: "shadow appearance-none border rounded py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
        <%= date_field_tag :to, @to, class: "shadow appearance-none border rounded py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
        <%= button_tag type: "submit", class: "shadow-lg bg-sky-500 shadow-sky-500/50 hover:bg-sky-400 text-white rounded px-2 py-2" do %>
          <svg aria-hidden="true" class="w-6 h-6 text-white-500 transition duration-75" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
          </svg>
        <% end %>
        </div>
      <% end %>
    </div>
    <div class="mb-8">
      <button class="shadow-lg bg-sky-500 shadow-sky-500/50 hover:bg-sky-400 text-white rounded px-4 py-2">
        <%= link_to "この期間に必要な食材", sum_schedules_path(from: @from, to: @to), data: { turbo_frame: 'modal' } %>
      </button>
    </div>
    <%= turbo_frame_tag "modal" %>
    <% @schedules.each do |schedule| %>
      <%= render schedule %>
    <% end %>
  </div>
</div>
